Scripts
=======

The scripts in this folder take care of processing and calculating new data
from the current hubway data.

hubparser.py
------------

...

router.py
---------

The prototype routing script. This routing script depends on the installation
of [graphserver](https://github.com/graphserver/graphserver/), which installs
a set of C and Python libraries which interact with compiled OSM data extracts.

This is the process to recreate the data extract files:

  1. Download the Massachusetts highways OSM extract from cloudmade: 
  [http://download.cloudmade.com/americas/northern_america/united_states/massachusetts/massachusetts.highway.osm.bz2]

  2. Using [osmosis](http://wiki.openstreetmap.org/wiki/Osmosis), extract the
  region around the hubway stations:
  
      > osmosis --read-xml file=massachusetts.highway.osm --bounding-box \
      left=-71.24645 bottom=42.21182 right=-70.9357 top=42.48643 --write-xml \
      file=boston.osm
      
  3. Compile the .osm file into a .osmdb sqlite file:
  
      > gs_osmdb_compile boston.osm boston.osmdb
      
  4. Compile the .osmdb file into a graphserver .gdb sqlite file:
  
      > gs_import_osm boston.gdb boston.osmdb
      
  5. The remaining .db file required by the routing script is generated by 
  hubparser.py from the raw trips and station .csv files.

Once the data files have been parsed, the router will calculate the routes between
two different stations by running the command on the command line:

    > python router.py
    
This will print the first route to stderr. To print more routes to stderr, pass in
the number of routes desired as a command line parameter:

    > python router.py 3